#!/bin/gawk -f
#
# Process vhkkeysyms.h to generate sorted table of key names with symbolic
# values.

BEGIN {
    print "/* This file is generated by genkeysymtable.awk, do not edit. */\n"
    print "static const vhk_key_t keys[] = {"
}

/^[#]define VHK_KEY_[a-zA-Z0-9_]+\s+0x[0-9a-fA-F]+/ {
    keysyms[$2] = $3
}

END {
    c = asorti(keysyms, indices)
    for (i = 1; i <= c; i++) {
        symbol = indices[i]
        value  = keysyms[symbol]
        s = "\"" substr(symbol, 9) "\","
        printf "    { %-25s %-28s }, /* %s */\n", s, symbol, value
    }
    print "};"
}
